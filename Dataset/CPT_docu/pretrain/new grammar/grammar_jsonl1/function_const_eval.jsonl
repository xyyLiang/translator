{"text": "'Cangjie programming language_function_const_eval_const_variable': 'In Cangjie code language, Const variables in Cangjie are special variables that are evaluated at compile time and cannot be changed at runtime. They are declared using the const keyword. Const variables must have an initialization expression and can be global, local, or static member variables. However, they cannot be defined in extensions.\nConst variables can access all instance members and call all non-mutating instance member functions of their type.'\n\nCode_Example:\nconst G: Float64 = 6.67430e-11 // Gravitational constant"}
{"text": "'Cangjie programming language_function_const_eval_const_member_function': 'In Cangjie code language, Const member functions are defined within a struct or class and are evaluated at compile time. They can be used to perform calculations that do not modify the state of the instance.'\n\nCode_Example:\nstruct Planet {\n    const Planet(let mass: Float64, let radius: Float64) {}\n\n\n    const func gravity(m: Float64, r: Float64) {\n        G * mass * m / r**2\n    }\n}\n\nmain() {\n    const myMass = 71.0\n    const earth = Planet(5.972e24, 6.378e6)\n    println(earth.gravity(myMass, earth.radius)) //outputï¼š695.657257\n}"}
{"text": "'Cangjie programming language_function_const_eval_const_context': 'In Cangjie code language, A const context in Cangjie refers to the initialization expressions of const variables. These expressions must be evaluated at compile time and are restricted to avoid side effects such as modifying global state or performing I/O operations.'\n\nError_case_code:\nmain() {\n    const myMass = 71.0\n    myMass = 70.0 // Error, cannot assign to immutable value\n}"}
{"text": "'Cangjie programming language_function_const_eval_const_expression': 'In Cangjie code language, Const expressions in Cangjie are expressions that can be evaluated at compile time. They include:\nLiterals of numeric types, Bool, Unit, Rune, and String (excluding interpolated strings).\nArray and tuple literals where all elements are const expressions.\nConst variables, const function parameters, and local variables in const functions.\nConst functions and lambdas that meet const function requirements.\nCalls to const functions and constructors where all arguments are const expressions.\nArithmetic, relational, and bitwise operations on numeric types, Bool, Unit, Rune, and String where all operands are const expressions.\nControl flow expressions like if, match, try, and return where all sub-expressions are const expressions.\nMember access and indexing on const expressions.\nConst instance member function calls where all arguments are const expressions.'\n\nCode_Example:\nconst x: Int64 = 10\nconst y: Int64 = x + 5 // Valid const expression"}
{"text": "'Cangjie programming language_function_const_eval_const_function': 'In Cangjie code language, Const functions in Cangjie are special functions that can be evaluated at compile time. When called in a const context, they are evaluated at compile time; otherwise, they behave like regular functions at runtime.\nConst functions must be declared with the const keyword.\nThey can only access const-declared external variables.\nAll expressions within a const function must be const expressions, except for const init functions.\nConst functions can declare new local variables using let and const, but not var.\nThere are no special restrictions on parameter and return types of const functions.\nConst functions are not always evaluated at compile time; they can be called at runtime in non-const contexts.\nConst functions follow the same overloading rules as regular functions.\nNumeric types, Bool, Unit, Rune, String, and enums support const instance member functions.\nFor structs and classes, const instance member functions can only be defined if a const init is defined. Const instance member functions in classes cannot be open, and in structs, they cannot be mut.'\n\nCode_Example:\nstruct Point {\n    const Point(let x: Float64, let y: Float64) {}\n}\n\nconst func distance(a: Point, b: Point) {\n    let dx = a.x - b.x\n    let dy = a.y - b.y\n    (dx**2 + dy**2)**0.5\n}\n\nmain() {\n    const a = Point(3.0, 0.0)\n    const b = Point(0.0, 4.0)\n    const d = distance(a, b)\n    println(d)\n}"}
{"text": "'Cangjie programming language_function_const_eval_const_rules': 'In Cangjie code language, There are no special specifications for the parameter type and return type in the const function. If the arguments of the function call do not meet the requirements of the const expression, then the function call cannot be used as a const expression, but it can still be used as a normal expression.\nThe const function may not always be executed at compile time, for example, it can be called when running in a non-const function.\nThe const function is the same as the non-const function overloading rules.\nNumeric types, Bool, Unit, Rune, String types, and enum support the definition of const instance member functions.\nFor struct and class, const instance member functions can only be defined if const init is defined. The const instance member function in class cannot be open. The const instance member function in struct cannot be mut.'"}
{"text": "'Cangjie programming language_function_const_eval_const_interface': 'In Cangjie code language, The const function in the interface must also be implemented with the const function to implement the interface.\nThe non-const function in the interface, and the implementation type uses either const or non-const function to implement the interface.\nThe const functions in an interface are the same as the static functions of an interface, and const functions can only be used by constrained generic variables or variables if the interface acts as a generic constraint.'\n\nCode_Example:\ninterface I {\n    const func f(): Int64\n    const static func f2(): Int64\n}\n\nclass A <: I {\n    public const func f() { 0 }\n    public const static func f2() { 1 }\n    const init() {}\n}\n\nconst func g<T>(i: T) where T <: I {\n    return i.f() + T.f2()\n}\n\nmain() {\n    println(g(A())) //output:1\n}"}
{"text": "'Cangjie programming language_function_const_eval_const_init': 'In Cangjie code language, If a struct or class defines a const constructor (const init), instances of this type can be used in const expressions.\nFor classes, const init cannot have var-declared instance member variables. If there is a parent class, the const init must call the parent's const init.\nInstance member variables with initial values must have const expressions as initializers.\nConst init can use assignment expressions to set instance member variables, but no other assignments are allowed.\nThe difference between const init and const functions is that const init allows you to assign values to instance member variables (you need to use an assignment expression).'"}
