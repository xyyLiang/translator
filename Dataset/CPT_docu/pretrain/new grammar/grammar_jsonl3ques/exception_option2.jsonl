{"text": "QUESTION:In Cangjie code language,How can the Option type be used for error handling in Cangjie?\nANSWER:The Option type in Cangjie can represent both the presence and absence of a value. Since the absence of a value can sometimes be considered an error, the Option type can also be used for error handling. For example, if a function's parameter is None, an exception can be thrown.func getOrThrow(a: ?Int64) {\n    match (a) {\n        case Some(v) => v\n        case None => throw NoneValueException()\n    }\n}"}
{"text": "QUESTION:In Cangjie code language,How to use pattern matching with Option in Cangjie?\nANSWER:Since Option is an enum type, you can use pattern matching to destructure Option values. For example, a function can return a string representation of the value if it is Some, or a default string if it is None.func getString(p: ?Int64): String{\n    match (p) {\n        case Some(x) => \"${x}\"\n        case None => \"none\"\n    }\n}\nmain() {\n    let a = Some(1)\n    let b: ?Int64 = None\n    let r1 = getString(a)\n    let r2 = getString(b)\n    println(r1)\n    println(r2)\n}"}
{"text": "QUESTION:In Cangjie code language,How to use the coalescing operator (??) in Cangjie?\nANSWER:The coalescing operator ?? is used to provide a default value if the Option value is None. For an expression e1 ?? e2, if e1 is Some(v), it returns v; otherwise, it returns e2.main() {\n    let a = Some(1)\n    let b: ?Int64 = None\n    let r1: Int64 = a ?? 0\n    let r2: Int64 = b ?? 0\n    println(r1)\n    println(r2)\n}"}
{"text": "QUESTION:In Cangjie code language,How to use the Elvis operator (?) in Cangjie?\nANSWER:The Elvis operator ? is used with . (dot), (), [], or {} to safely access members of an Option type. For example, e?.b will be Some(v.b) if e is Some(v), otherwise it will be None.\nThe question mark operator (?) supports multiple layers of access to the role of a?. b.c?. d as an example ((), [] and {} are the same).//a.cj\nstruct R {\n    public var a: Int64\n    public init(a: Int64) {\n        this.a = a\n    }\n}\n\nlet r = R(100)\nlet x = Some(r)\nlet y = Option<R>.None\nlet r1 = x?.a   // r1 = Option<Int64>.Some(100)\nlet r2 = y?.a   // r2 = Option<Int64>.None\n//b.cj\nstruct A {\n    let b: B = B()\n}\n\nstruct B {\n    let c: Option<C> = C()\n    let c1: Option<C> = Option<C>.None\n}\n\nstruct C {\n    let d: Int64 = 100\n}\n\nlet a = Some(A())\nlet a1 = a?.b.c?.d // a1 = Option<Int64>.Some(100)\nlet a2 = a?.b.c1?.d // a2 = Option<Int64>.None"}
{"text": "QUESTION:In Cangjie code language,How to use the getOrThrow function with Option in Cangjie?\nANSWER:The getOrThrow function can be used to unwrap an Option value. If the value is Some(v), it returns v; otherwise, it throws an exception.main() {\n    let a = Some(1)\n    let b: ?Int64 = None\n    let r1 = a.getOrThrow()\n    println(r1)\n    try {\n        let r2 = b.getOrThrow()\n    } catch (e: NoneValueException) {\n        println(\"b is None\")\n    }\n}"}
