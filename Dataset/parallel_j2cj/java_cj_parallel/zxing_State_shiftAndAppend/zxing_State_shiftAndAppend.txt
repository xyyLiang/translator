  // Create a new state representing this state, with a temporary shift
  // to a different mode to output a single value.